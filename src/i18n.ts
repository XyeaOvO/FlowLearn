/**
 * 国际化配置文件
 * 使用 i18next 和 react-i18next 提供多语言支持
 * 支持中文（zh）和英文（en）两种语言
 */
import i18n from 'i18next'
import { initReactI18next } from 'react-i18next'

/**
 * 翻译资源配置
 * 包含应用中所有文本的中英文翻译
 * 按功能模块组织，便于维护和扩展
 */
const resources = {
  /** 中文翻译资源 */
  zh: {
    translation: {
      nav: {
        vocab: '生词库',
        review: '复习模式',
        settings: '设置',
      },
      actions: {
        saveSettings: '保存设置',
        reset: '重置',
        edit: '编辑',
        cancel: '取消',
        save: '保存',
        deleteWord: '删除单词',
        copy: '复制',
        export: '导出',
      },
      footer: {
        localOnly: '数据保存在本地，不联网',
      },
      sidebar: {
        quickActions: '快速操作',
        navigation: '导航',
        stats: '统计信息',
      },
      progress: {
        dailyGoal: '每日目标',
        reviewedToday: '今日完成',
        dueCount: '待复习',
      },
      buttons: {
        processBasketEmpty: '篮子是空的',
        processBasketCount: '立即处理 {{count}} 个词汇',
        manualImport: '导入AI输出',
        addWord: '添加到篮子',
      },
      status: {
        new: '新词',
        learning: '学习中',
        mastered: '已掌握',
        all: '全部状态',
      },
      list: {
        searchPlaceholder: '搜索（支持正则切换）',
        emptyTitle: '没有找到单词',
        emptyDesc: '尝试调整搜索条件',
      },
      filters: {
        domainAll: '全部领域',
        requireExample: '例句',
        requirePhonetic: '音标',
        regex: '正则',
      },
      detail: {
        selectTitle: '选择一个单词',
        selectDesc: '从左侧列表中选择单词查看详情',
        domain: '领域',
        addedAt: '添加时间',
        nextReview: '下次复习',
        definition: '释义',
        example: '例句',
        analysis: '讲解',
        fsrs: '记忆强度（FSRS）',
        difficulty: '难度',
        stability: '稳定度',
        retrievability: '检索率',
        reps: '复习次数',
        lapses: '遗忘次数',
        lastReviewedAt: '上次复习',
      },
      review: {
        back: '返回生词库',
        great: '太棒了！',
        noneDue: '今日暂无需要复习的单词',
        remaining: '剩余 {{count}} 个单词',
        showDefinition: '显示释义',
        needLearn: '还需要学习',
        mastered: '已经掌握',
        again: '再来一次',
        hard: '较难',
        good: '一般',
        easy: '容易',
      },
      settings: {
        section: {
          basic: '基础设置',
          filters: '过滤规则',
          ai: 'AI 提示词设置',
          tts: '发音设置',
        },
        importExportLabel: '导入/导出',
        triggerThreshold: '触发阈值',
        triggerHelp: '收集到多少个单词后自动提示处理',
        wordCountLimits: '单词数量限制',
        minWords: '最小单词数',
        maxWords: '最大单词数',
        ignoreMultiline: '忽略包含换行的文本',
        ignoreHelp: '跳过多行文本，只处理单行内容',
        hotkey: '全局快捷键',
        hotkeyHelp: '强制将当前剪贴板内容加入生词篮',
        hotkeys: '快捷键配置',
        hotkeysHelp: '配置各种功能的全局快捷键。支持 Ctrl、Shift、Alt、Command(Mac) 等组合键。',
        hotkeyAddFromClipboard: '强制添加剪贴板内容',
        hotkeyShowHideWindow: '显示/隐藏窗口',
        hotkeyProcessBasket: '处理生词篮',
        hotkeyClearBasket: '清空生词篮',
        hotkeyTogglePause: '暂停/恢复监听',
        hotkeyOpenSettings: '打开设置',
        hotkeyStartReview: '开始复习',
        hotkeyQuickAdd: '快速添加',
        theme: '主题',
        locale: '语言',
        themeSystem: '跟随系统',
        themeLight: '浅色',
        themeDark: '深色',
        localeZh: '中文',
        localeEn: 'English',
        regexRules: '正则排除规则',
        regexHelp: '匹配这些正则表达式的文本将被忽略',
        responseMode: '响应模式',
        responseModeRich: '富文本解析 + 末尾JSON提要',
        responseModeJson: '仅JSON（结构化）',
        responseModeHelp: '选择 AI 返回内容的格式',
        richHeader: '富文本解析提示',
        richHeaderHelp: '用于引导 AI 生成详细讲解的提示词',
        promptTemplate: 'JSON 模板提示词',
        promptTemplateHelp: '用于生成结构化 JSON 数据的提示词模板',
        ttsEnable: '启用发音',
        ttsAutoPlay: '自动播放（选中词条或进入复习卡时）',
        ttsLangLabel: '语言',
        ttsEngine: '发音引擎',
        voiceLabel: '声音（可留空自动）',
        voiceRefreshBtn: '刷新',
        voiceTryLoadBtn: '尝试加载',
        voiceTestBtn: '试听',
        rateLabel: '语速',
        pitchLabel: '音调',
        volcAppid: 'AppID',
        volcToken: 'Access Token',
        volcCluster: 'Cluster',
        volcVoiceType: '音色 voice_type',
        encoding: '编码',
        speedRatio: '语速 speed_ratio',
        sampleRate: '采样率 rate',
      },
      data: {
        section: '数据导入/导出与备份',
        exportJSON: '导出 JSON',
        exportCSV: '导出 CSV',
        import: '导入 JSON/CSV',
        importHelp: '导入会按 term 去重（忽略大小写），仅追加缺失项。',
        backup: '备份',
        backupNow: '立即备份',
        openDir: '打开备份目录',
        restore: '从备份恢复',
        refresh: '刷新列表',
        autoDaily: '应用会在每日首次启动时自动执行备份。',
        recent: '最近备份',
        recentTip: '仅显示最近 5 个',
        none: '暂无备份',
        dangerZone: '危险操作',
        resetAll: '重置所有单词（清空进度）',
        resetAllConfirm: '确定要重置所有单词的复习进度吗？该操作不可撤销。',
        resetAllDone: '已重置 {{count}} 个词条的复习进度',
      },
      modal: {
        addWord: {
          title: '手动添加单词',
          label: '单词或短语',
          placeholder: '输入要添加的单词或短语...',
          addButton: '添加到篮子',
          adding: '添加中...',
          cancel: '取消',
          tips: {
            support: '支持单词、短语或短句',
            deduplicate: '重复添加会自动去重',
          },
          errors: {
            empty: '词条不能为空',
            duplicate: '该词条已在篮子中',
            failed: '添加失败，请重试',
          },
        },
      },
    },
  },
  /** 英文翻译资源 */
  en: {
    translation: {
      nav: {
        vocab: 'Vocabulary',
        review: 'Review',
        settings: 'Settings',
      },
      actions: {
        saveSettings: 'Save settings',
        reset: 'Reset',
        edit: 'Edit',
        cancel: 'Cancel',
        save: 'Save',
        deleteWord: 'Delete word',
        copy: 'Copy',
        export: 'Export',
      },
      footer: {
        localOnly: 'Data is stored locally, no network access',
      },
      sidebar: {
        quickActions: 'Quick actions',
        navigation: 'Navigation',
        stats: 'Stats',
      },
      progress: {
        dailyGoal: 'Daily goal',
        reviewedToday: 'Reviewed today',
        dueCount: 'Due',
      },
      buttons: {
        processBasketEmpty: 'Basket is empty',
        processBasketCount: 'Process {{count}} terms now',
        manualImport: 'Import AI output',
        addWord: 'Add to basket',
      },
      status: {
        new: 'New',
        learning: 'Learning',
        mastered: 'Mastered',
        all: 'All statuses',
      },
      list: {
        searchPlaceholder: 'Search (toggle regex)...',
        emptyTitle: 'No words found',
        emptyDesc: 'Try changing filters',
      },
      filters: {
        domainAll: 'All domains',
        requireExample: 'Example',
        requirePhonetic: 'Phonetic',
        regex: 'Regex',
      },
      detail: {
        selectTitle: 'Select a word',
        selectDesc: 'Select a word from the list',
        domain: 'Domain',
        addedAt: 'Added at',
        nextReview: 'Next review',
        definition: 'Definition',
        example: 'Example',
        analysis: 'Analysis',
        fsrs: 'Memory Strength (FSRS)',
        difficulty: 'Difficulty',
        stability: 'Stability',
        retrievability: 'Retrievability',
        reps: 'Repetitions',
        lapses: 'Lapses',
        lastReviewedAt: 'Last reviewed',
      },
      review: {
        back: 'Back to Vocabulary',
        great: 'Great!',
        noneDue: 'No words due today',
        remaining: 'Remaining {{count}} words',
        showDefinition: 'Show definition',
        needLearn: 'Need more practice',
        mastered: 'Mastered',
        again: 'Again',
        hard: 'Hard',
        good: 'Good',
        easy: 'Easy',
      },
      settings: {
        section: {
          basic: 'Basics',
          filters: 'Filter rules',
          ai: 'AI prompts',
          tts: 'Pronunciation',
        },
        importExportLabel: 'Import/Export',
        triggerThreshold: 'Trigger threshold',
        triggerHelp: 'How many terms to collect before prompting',
        wordCountLimits: 'Word count limits',
        minWords: 'Min words',
        maxWords: 'Max words',
        ignoreMultiline: 'Ignore multiline text',
        ignoreHelp: 'Skip multiline text and only process single line',
        hotkey: 'Global hotkey',
        hotkeyHelp: 'Force add clipboard content to basket',
        hotkeys: 'Hotkey Configuration',
        hotkeysHelp: 'Configure global hotkeys for various functions. Supports Ctrl, Shift, Alt, Command(Mac) combinations.',
        hotkeyAddFromClipboard: 'Force add clipboard content',
        hotkeyShowHideWindow: 'Show/Hide window',
        hotkeyProcessBasket: 'Process basket',
        hotkeyClearBasket: 'Clear basket',
        hotkeyTogglePause: 'Pause/Resume listening',
        hotkeyOpenSettings: 'Open settings',
        hotkeyStartReview: 'Start review',
        hotkeyQuickAdd: 'Quick add',
        theme: 'Theme',
        locale: 'Language',
        themeSystem: 'System',
        themeLight: 'Light',
        themeDark: 'Dark',
        localeZh: 'Chinese',
        localeEn: 'English',
        regexRules: 'Regex exclude rules',
        regexHelp: 'Text matching these regexes will be ignored',
        responseMode: 'Response mode',
        responseModeRich: 'Rich summary + trailing JSON',
        responseModeJson: 'JSON only (structured)',
        responseModeHelp: 'Choose AI response format',
        richHeader: 'Rich summary prompt',
        richHeaderHelp: 'Prompt to guide rich explanation',
        promptTemplate: 'JSON template prompt',
        promptTemplateHelp: 'Prompt template to produce structured JSON',
        ttsEnable: 'Enable pronunciation',
        ttsAutoPlay: 'Auto play (on select or in review card)',
        ttsLangLabel: 'Language',
        ttsEngine: 'Engine',
        voiceLabel: 'Voice (auto if empty)',
        voiceRefreshBtn: 'Refresh',
        voiceTryLoadBtn: 'Try load',
        voiceTestBtn: 'Test',
        rateLabel: 'Rate',
        pitchLabel: 'Pitch',
        volcAppid: 'AppID',
        volcToken: 'Access Token',
        volcCluster: 'Cluster',
        volcVoiceType: 'voice_type',
        encoding: 'Encoding',
        speedRatio: 'speed_ratio',
        sampleRate: 'Sample rate',
      },
      data: {
        section: 'Import/Export & Backups',
        exportJSON: 'Export JSON',
        exportCSV: 'Export CSV',
        import: 'Import JSON/CSV',
        importHelp: 'Import de-duplicates by term (case-insensitive) and only appends new items.',
        backup: 'Backups',
        backupNow: 'Backup now',
        openDir: 'Open backup folder',
        restore: 'Restore from backup',
        refresh: 'Refresh',
        autoDaily: 'App automatically creates a daily backup on first start.',
        recent: 'Recent backups',
        recentTip: 'Showing last 5 items',
        none: 'No backups yet',
        dangerZone: 'Danger zone',
        resetAll: 'Reset all words (clear progress)',
        resetAllConfirm: 'Are you sure to reset all words’ review progress? This action cannot be undone.',
        resetAllDone: 'Reset {{count}} items',
      },
      modal: {
        addWord: {
          title: 'Add Word Manually',
          label: 'Word or phrase',
          placeholder: 'Enter word or phrase to add...',
          addButton: 'Add to basket',
          adding: 'Adding...',
          cancel: 'Cancel',
          tips: {
            support: 'Supports words, phrases or short sentences',
            deduplicate: 'Duplicate entries will be automatically deduplicated',
          },
          errors: {
            empty: 'Entry cannot be empty',
            duplicate: 'This entry is already in the basket',
            failed: 'Failed to add, please try again',
          },
        },
      },
    },
  },
}

// 初始化 i18next 配置
i18n
  .use(initReactI18next) // 集成 React
  .init({
    resources, // 翻译资源
    lng: 'zh', // 默认语言为中文
    fallbackLng: 'en', // 回退语言为英文
    interpolation: { escapeValue: false }, // 禁用 HTML 转义，允许在翻译中使用 HTML
    returnNull: false, // 缺失翻译时不返回 null
    returnEmptyString: false, // 缺失翻译时不返回空字符串
  })

export default i18n


